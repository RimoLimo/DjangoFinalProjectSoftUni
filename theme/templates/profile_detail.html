{% extends "base.html" %}
{% load static %}
{% block content %}
<div class="max-w-md mx-auto bg-white p-8 rounded-xl shadow-lg mt-10">
  <h2 class="text-3xl font-semibold mb-6 text-center text-blue-700">My Profile</h2>

  <div class="flex flex-col items-center mb-6">
    {% if user.profile.avatar %}
      <img src="{{ user.profile.avatar }}" alt="Avatar" class="w-32 h-32 rounded-full mb-4 object-cover shadow-md" />
    {% else %}
      <img src="{% static 'images/default-avatar.jpg' %}" alt="Default Avatar" class="w-32 h-32 rounded-full mb-4 object-cover shadow-md" />
    {% endif %}
    <div class="text-center space-y-1">
      <p><strong>Username:</strong> <span class="text-gray-700">{{ user.username }}</span></p>
      <p><strong>Bio:</strong> <span class="text-gray-700">{{ user.profile.bio|default:'No bio set' }}</span></p>
      <p><strong>Birth Date:</strong> <span class="text-gray-700">{{ user.profile.birth_date|date:"F j, Y"|default:"Not specified" }}</span></p>
    </div>
  </div>

  <h3 class="text-xl font-semibold mb-3 border-b border-gray-300 pb-2">Your Reviews</h3>
  <ul class="list-disc list-inside space-y-2 mb-6">
    {% for review in user.reviews.all %}
      <li>
        <a href="{% url 'review-detail' review.pk %}" class="text-blue-600 hover:underline font-medium">{{ review.title }}</a>
        for
        <a href="{% url 'game-detail' review.game.pk %}" class="text-blue-600 hover:underline">{{ review.game.title }}</a>
      </li>
    {% empty %}
      <li class="text-gray-500 italic">You have no reviews yet.</li>
    {% endfor %}
  </ul>

  <div class="flex justify-center space-x-4">
    <a href="{% url 'profile-edit' %}" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg shadow transition duration-200">
      Edit Profile
    </a>
    <a href="{% url 'profile-delete' %}" class="px-6 py-2 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg shadow transition duration-200">
      Delete Profile
    </a>
  </div>
</div>
{% endblock %}
